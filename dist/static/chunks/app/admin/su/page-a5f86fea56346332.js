(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{49341:function(e,t,r){Promise.resolve().then(r.bind(r,53185))},53185:function(e,t,r){"use strict";r.r(t);var n=r(3827),s=r(64090);r(20114);var a=r(54457),i=r(7908),l=r(37780);t.default=()=>{let[e]=(0,a.fP)(["token"]),t=e.token,[r,c]=(0,s.useState)(""),[o,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[m,f]=(0,s.useState)(""),[p,g]=(0,s.useState)("");return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"form-container",children:[(0,n.jsxs)("form",{encType:"multipart/form-data",onSubmit:e=>{if(e.preventDefault(),!r||!o){g("Veuillez remplir tous les champs.");return}let n=new FormData;n.append("title",r),n.append("image",o),fetch("".concat(l.F,"/images"),{headers:{Authorization:"Bearer ".concat(t)},method:"POST",body:n}).then(e=>{if(!e.ok)throw Error("Une erreur s'est produite lors de l'enregistrement de l'image.");return e.json()}).then(()=>{i.Z.get("".concat(l.F,"/images")).then(e=>{h(e.data[0].file)}),f("L'image a \xe9t\xe9 enregistr\xe9 avec succ\xe8s !"),g("")}).catch(e=>{console.error("Erreur lors de l'enregistrement des donn\xe9es : ",e),f(""),g("Une erreur s'est produite lors de l'enregistrement de l'image.")})},children:[(0,n.jsxs)("div",{className:"form-flex",children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("h3",{children:"Titre:"}),(0,n.jsx)("input",{type:"text",name:"title",value:r,onChange:e=>{c(e.target.value)}})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("h3",{children:"Image:"}),(0,n.jsx)("input",{type:"file",name:"image",onChange:e=>{u(e.target.files[0])}})]})]}),(0,n.jsx)("button",{type:"submit",children:"Valider"})]}),p&&(0,n.jsx)("p",{className:"error",children:p}),m&&(0,n.jsx)("p",{className:"success",children:m}),d&&(0,n.jsxs)("p",{className:"image-url",children:["Image URL: ",d]})]})})}},37780:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});let n="http://localhost:80"},20114:function(){}},function(e){e.O(0,[457,908,971,69,744],function(){return e(e.s=49341)}),_N_E=e.O()}]);