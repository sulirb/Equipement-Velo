(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163,70],{78207:function(e,t,n){Promise.resolve().then(n.bind(n,36996))},36996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var c=n(3827),s=n(64090);n(49714);var a=n(8792),i=n(20703),l=function(e){let{picture:t,title:n,href:s,content:l}=e;return(0,c.jsx)(a.default,{href:s,passHref:!0,className:"anchor-listcard",children:(0,c.jsxs)("div",{className:"listcard",children:[(0,c.jsx)("div",{className:"listcard__image",children:(0,c.jsx)(i.default,{src:t,width:100,height:100,unoptimized:!0,alt:"logo"})}),(0,c.jsxs)("div",{className:"listcard__flex",children:[(0,c.jsx)("h3",{className:"listcard__flex-title",children:n}),(0,c.jsx)("div",{className:"listcard__flex-content",dangerouslySetInnerHTML:{__html:l.replace(/<[^>]*>/g,"").substring(0,200)+"..."}})]})]})})};n(18600);var r=n(37948),o=n(74404),u=n.n(o);n(96068);var h=n(37780),d=n(78012);function f(e){let{currentPage:t}=e,[n,i]=(0,s.useState)([]),l=e=>{(0,d.redirect)("/articles/".concat(e))};(0,s.useEffect)(()=>{fetch("".concat(h.F,"/articles/all")).then(e=>e.json()).then(e=>i(e))},[]);let o=Math.ceil(n.length/20);return console.log(o),console.log(n.length),console.log(n),(0,c.jsxs)("div",{className:"pagination",children:[t>1&&(0,c.jsx)(a.Link,{to:"/articles/".concat(t-1),className:"pagination__chevron",children:(0,c.jsx)(r.JO,{icon:"ic:round-chevron-left"})}),(0,c.jsx)("div",{className:"pagination__number",children:Array.from({length:o},(e,n)=>{let s=n+1;return(0,c.jsx)("a",{href:"",className:s===t?"active":"",onClick:()=>l(s),children:s},s)})}),t<o&&(0,c.jsx)(a.Link,{to:"/articles/".concat(t+1),className:"pagination__chevron",children:(0,c.jsx)(r.JO,{icon:"ic:round-chevron-right"})})]})}f.propTypes={currentPage:u().number.isRequired};var g=function(e){let{page:t}=e,[n,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{fetch("".concat(h.F,"/articles/perPage?page=").concat(t,"&perPage=20")).then(e=>e.json()).then(e=>{a(e)})},[t]),(0,c.jsxs)("section",{className:"articles-list",children:[(0,c.jsx)("h2",{children:"Liste des articles"}),(0,c.jsx)("div",{className:"list-container",children:n.map(e=>(0,c.jsx)(l,{title:e.title,picture:e.file,content:e.content,date:e.createdAt,href:"casques"===e.tag?"/casques/".concat(e.slug):"lunettes"===e.tag?"/lunettes/".concat(e.slug):"vetements"===e.tag?"/vetements/".concat(e.slug):"chaussures"===e.tag?"/chaussures/".concat(e.slug):"/article/".concat(e.slug)},e._id))}),(0,c.jsx)(f,{currentPage:parseInt(t)})]})}},37780:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});let c="http://localhost:80"},18600:function(){},49714:function(){},96068:function(){}},function(e){e.O(0,[749,416,125,971,69,744],function(){return e(e.s=78207)}),_N_E=e.O()}]);